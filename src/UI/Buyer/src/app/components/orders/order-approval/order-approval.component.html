<div>
  <div *ngIf="!requestedConfirmation">
    <button
      class="btn btn-primary ml-2"
      (click)="openConfirmation(true)"
      translate
    >
      ORDERS.APPROVAL.APPROVE
    </button>
    <button
      class="btn btn-danger ml-2"
      (click)="openConfirmation(false)"
      translate
    >
      ORDERS.APPROVAL.REQUEST_CHANGES
    </button>
  </div>
  <div class="shadow-sm bg-white p-3" *ngIf="requestedConfirmation">
    <h5 class="border-bottom pb-3" translate>ORDERS.APPROVAL.ADD_COMMENTS</h5>
    <p class="font-italic" translate>
      ORDERS.APPROVAL.COMMENTS_ARE_VIEWABLE
      <span *ngIf="!approved" translate>ORDERS.APPROVAL.PROVIDE_DETAILS</span>
    </p>
    <form novalidate [formGroup]="form">
      <textarea
        type="text"
        maxlength="2000"
        placeholder="Comments (optional)"
        formControlName="comments"
        class="form-control"
      >
      </textarea>
    </form>
    <div class="d-flex justify-content-end">
      <button
        class="ml-2 mt-3 btn btn-outline-primary"
        (click)="closeConfirmation()"
        translate
      >
        ORDERS.APPROVAL.CANCEL
      </button>
      <button
        class="mt-3 ml-2 btn"
        (click)="submitReview()"
        [ngClass]="{ 'btn-primary': approved, 'btn-danger': !approved }"
      >
        <span *ngIf="approved" translate>ORDERS.APPROVAL.APPROVE</span>
        <span *ngIf="!approved" translate>ORDERS.APPROVAL.REQUEST_CHANGES</span>
      </button>
    </div>
  </div>
</div>
